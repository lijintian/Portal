@using Portal.Web.Core.Model
@{
    var info = ViewBag.TreeSource as ZTreeInfo;
}
<div class="col-sm-6">
    <div class="widget-box">
        <div class="widget-header widget-header-flat">
            <h4>
                菜单管理列表
            </h4>
        </div>
        <div class="widget-body">
            <div class="widget-main" style="height: 430px;overflow-y: auto;">
                <ul id="treeList" class="ztree"></ul>
            </div>
        </div>
    </div>
</div>
<div class="col-sm-6">
    <div class="widget-box">
        <div class="widget-header widget-header-flat">
            <h4>
                菜单信息
            </h4>
        </div>
        <div class="widget-body">
            <div class="widget-main" id="menuDetail" style="height: 430px;padding:0;">
                @{Html.RenderPartial("Detail");}
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    // 保存各查询参数
    var TreeConfig = {
        DataType: @(info.DateType),
        TreeType : @(info.Type),
        TreeName:"@(info.TreeName)",
        JSName :  "@(info.JsName)",
        CompanyId :  "@(info.CompanyId)",
        SelectID :  "",
        SelectName :  "",
        IsPostBack: true
    };
    (function(){
        var zNodes = [
            // pId: 父节点,没有父节点的写0； isParent:是否为组； checked：是否默认选中； open：是否默认打开
            // { id: 2, pId: 0, name: "随意勾选 2", checked: true, open: true, isParent:true },
            @Html.Raw(info.Source)
        ];
        loadTree(zNodes);
    })();
</script>

